{% extends 'payrollapp/base.html' %}
{% load static %}

{% block content %}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function() {
        $('#U_A').click(function() {
            $.ajax({
                url: '{% url "A_UPLOAD" UID=user.pk %}',
                type: 'GET',  // Or 'POST' depending on your view's implementation
                success: function(response) {
                    $('#resultDiv').text('Data imported and database cleared successfully.');
                },
                error: function() {
                    $('#resultDiv').text('Error executing Python code.');
                }
            });
        });
    });
</script>






<div class="main">
    <div class="dashboard-navbar">
        <form action="#">
            <div class="nav-search">
                <input type="text" class="search-query mr-3" placeholder="Name/Code" id="eName">
                <input type="text" class="search-query px-3" id="eDepa" placeholder="Search Department">
            </div>
        </form>
        <div class="navbar-content">
            <ul class="main-nav">
                <div class="nav-search">
                    <form action={% url "WT_UPLOAD" UID=user.pk %} method="post" enctype="multipart/form-data">
                        {% csrf_token %}
                        <input type="file" required name="A_xls"> 
                        <button type="submit">Submit</button> 
                    </form>
                </div>
            </ul>
        </div>
    </div>
    <div class="content">
        <h2>Attendance Database</h2>
        <div style="overflow-x:auto;">
            <table id="posts">
                <thead>
                    <tr>
                        <th style="width:10%">ID</th>
                        <th style="width:20%">Name</th>
                        <th style="width:15%">Days Present</th>
                        <th style="width:15%">Total Working Days</th>
                        <th style="width:15%">Overtime Hours</th>
                        <th style="width:10%">Leaves Taken</th>
                        <th style="width:10%">Options</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td><a class="btn" href="#"><i class="lni lni-pencil-alt"></i></a></td-->
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>


<!-- Modals --

<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Upload Attendance File</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form action="/action_page.php">
                    <input type="file" id="myFile" name="filename">
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" data-bs-target="#exampleModalToggle2" data-bs-toggle="modal" data-bs-dismiss="modal">Confirm</button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="exampleModalToggle2" aria-hidden="true" aria-labelledby="exampleModalToggleLabel2">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalToggleLabel2">View Attendance File</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-primary" data-bs-target="#exampleModalToggle3" data-bs-toggle="modal" data-bs-dismiss="modal">Confirm</button>
        </div>
      </div>
    </div>
</div>
<!--div class="modal fade" id="exampleModalToggle3" aria-hidden="true" aria-labelledby="exampleModalToggleLabel3">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalToggleLabel2">Please enter your employee access code.</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <form>
                <div class="mb-3">
                    <input type="text" class="form-control" id="employeecode" placeholder="Enter Code">
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-primary" data-bs-target="#exampleModalToggle4" data-bs-toggle="modal" data-bs-dismiss="modal">Confirm</button>
        </div>
      </div>
    </div>
</div>
<div class="modal fade" id="exampleModalToggle4" aria-hidden="true" aria-labelledby="exampleModalToggleLabel4">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="exampleModalToggleLabel2">Success! </h5>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close Message</button>
        </div>
      </div>
    </div>
</div-->


{% endblock %}